(this["webpackJsonpionic-react"]=this["webpackJsonpionic-react"]||[]).push([[9],{152:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(11),l=a(18),u=a(0),o=a.n(u),i=a(2),m=a(17),s=a(26),p=a(13),f=a(22),E=(a(152),f.e.Camera),v=function(e){var t=Object(u.useState)(),a=Object(l.a)(t,2),n=a[0],m=a[1],s=Object(u.useRef)(null),v=function(){s.current.click()},d=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.c.isPluginAvailable("Camera")){t.next=3;break}return v(),t.abrupt("return");case 3:return t.prev=3,t.next=6,E.getPhoto({resultType:f.a.Uri,source:f.b.Camera,quality:80,width:500});case 6:if((a=t.sent)&&a.webPath){t.next=9;break}return t.abrupt("return");case 9:n={path:a.path,preview:a.webPath},m(n),e.onImagePick(n),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),v();case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"image-preview"},!n&&o.a.createElement("h3",null,"No photo chosen."),n&&o.a.createElement("img",{src:n.preview,alt:"Preview"})),o.a.createElement(i.c,{fill:"clear",onClick:d},o.a.createElement(i.n,{icon:p.c,slot:"start"}),o.a.createElement(i.q,null,"Take Photo")),o.a.createElement("input",{type:"file",hidden:!0,ref:s,onChange:function(t){var a=t.target.files[0],n=new FileReader;n.onload=function(){var t={path:void 0,preview:n.result.toString()};m(t),e.onImagePick(t)},n.readAsDataURL(a)}}))};t.default=function(){var e=Object(u.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1],p=Object(u.useState)("good"),f=Object(l.a)(p,2),E=f[0],d=f[1],h=Object(u.useContext)(s.a),b=Object(u.useRef)(null),g=Object(m.e)(),w=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=null===(t=b.current)||void 0===t?void 0:t.value)&&0!==n.toString().trim().length&&a&&E){e.next=3;break}return e.abrupt("return");case 3:h.addMemory(a,n.toString(),E),g.length>0?g.goBack():g.replace("/good-memories");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(i.r,null,o.a.createElement(i.m,null,o.a.createElement(i.C,null,o.a.createElement(i.d,{slot:"start"},o.a.createElement(i.b,{defaultHref:"/good-memories"})),o.a.createElement(i.B,null,"Add New Memory"))),o.a.createElement(i.i,null,o.a.createElement(i.l,null,o.a.createElement(i.u,null,o.a.createElement(i.h,null,o.a.createElement(i.p,null,o.a.createElement(i.q,{position:"floating"},"Memory Title"),o.a.createElement(i.o,{type:"text",ref:b})))),o.a.createElement(i.u,null,o.a.createElement(i.h,null,o.a.createElement(i.v,{onIonChange:function(e){var t=e.detail.value;d(t)},value:E},o.a.createElement(i.w,{value:"good"},"Good Memory"),o.a.createElement(i.w,{value:"bad"},"Bad Memory")))),o.a.createElement(i.u,{className:"ion-text-center"},o.a.createElement(i.h,null,o.a.createElement(v,{onImagePick:function(e){n(e)}}))),o.a.createElement(i.u,{className:"ion-margin-top"},o.a.createElement(i.h,{className:"ion-text-center"},o.a.createElement(i.c,{onClick:w},"Add Memory"))))))}}}]);
//# sourceMappingURL=9.c98bc5db.chunk.js.map