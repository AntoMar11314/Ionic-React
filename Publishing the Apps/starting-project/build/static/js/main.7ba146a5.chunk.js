(this["webpackJsonpionic-react"]=this["webpackJsonpionic-react"]||[]).push([[1],{26:function(e,t,n){"use strict";var r=n(0),a=n.n(r).a.createContext({memories:[],addMemory:function(){},initContext:function(){}});t.a=a},59:function(e,t,n){e.exports=n(90)},64:function(e,t,n){var r={"./pwa-action-sheet.entry.js":[95,60],"./pwa-camera-modal-instance.entry.js":[96,61],"./pwa-camera-modal.entry.js":[97,62],"./pwa-camera.entry.js":[98,63],"./pwa-toast.entry.js":[99,64]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=64,e.exports=a},67:function(e,t,n){var r={"./ion-action-sheet.entry.js":[101,7],"./ion-alert.entry.js":[102,8],"./ion-app_8.entry.js":[103,10],"./ion-avatar_3.entry.js":[104,20],"./ion-back-button.entry.js":[105,21],"./ion-backdrop.entry.js":[106,46],"./ion-button_2.entry.js":[107,22],"./ion-card_5.entry.js":[108,23],"./ion-checkbox.entry.js":[109,24],"./ion-chip.entry.js":[110,25],"./ion-col_3.entry.js":[111,47],"./ion-datetime_3.entry.js":[112,13],"./ion-fab_3.entry.js":[113,26],"./ion-img.entry.js":[114,48],"./ion-infinite-scroll_2.entry.js":[115,49],"./ion-input.entry.js":[116,27],"./ion-item-option_3.entry.js":[117,28],"./ion-item_8.entry.js":[118,29],"./ion-loading.entry.js":[119,30],"./ion-menu_3.entry.js":[120,31],"./ion-modal.entry.js":[121,11],"./ion-nav_2.entry.js":[122,17],"./ion-popover.entry.js":[123,12],"./ion-progress-bar.entry.js":[124,32],"./ion-radio_2.entry.js":[125,33],"./ion-range.entry.js":[126,34],"./ion-refresher_2.entry.js":[127,14],"./ion-reorder_2.entry.js":[128,19],"./ion-ripple-effect.entry.js":[129,50],"./ion-route_4.entry.js":[130,35],"./ion-searchbar.entry.js":[131,36],"./ion-segment_2.entry.js":[132,37],"./ion-select_3.entry.js":[133,38],"./ion-slide_2.entry.js":[134,51],"./ion-spinner.entry.js":[135,16],"./ion-split-pane.entry.js":[136,52],"./ion-tab-bar_2.entry.js":[137,39],"./ion-tab_2.entry.js":[138,18],"./ion-text.entry.js":[139,40],"./ion-textarea.entry.js":[140,41],"./ion-toast.entry.js":[141,42],"./ion-toggle.entry.js":[142,15],"./ion-virtual-scroll.entry.js":[143,53]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=67,e.exports=a},69:function(e,t,n){var r={"./ion-icon.entry.js":[144,68]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=69,e.exports=a},77:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(31),i=n.n(o),c=n(58),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(2),m=n(52),f=n(17),d=n(13),y=n(26),j=function(e){return a.a.createElement(u.j,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(u.k,{routerLink:e.link},a.a.createElement(u.n,{icon:e.icon})))},p=(n(77),function(e){return a.a.createElement(u.e,{className:"memory-item"},a.a.createElement("img",{src:e.image,alt:e.title}),a.a.createElement(u.f,null,a.a.createElement(u.g,null,e.title)))}),h=function(e){return a.a.createElement(a.a.Fragment,null,e.items.map((function(e){return a.a.createElement(u.u,{key:e.id},a.a.createElement(u.h,null,a.a.createElement(p,{image:e.base64Url,title:e.title})))})))},b=function(e){return a.a.createElement(u.d,{slot:"end"},a.a.createElement(u.c,{routerLink:e.link},a.a.createElement(u.n,{slot:"icon-only",icon:e.icon})))},v=function(e){return a.a.createElement(u.r,null,a.a.createElement(u.m,null,a.a.createElement(u.C,null,a.a.createElement(u.B,null,e.title),Object(u.L)("ios")&&a.a.createElement(b,{link:"/new-memory",icon:d.a}))),a.a.createElement(u.i,null,a.a.createElement(u.l,null,0===e.memories.length&&a.a.createElement(u.u,null,a.a.createElement(u.h,{className:"ion-text-center"},a.a.createElement("h2",null,e.fallbackText))),a.a.createElement(h,{items:e.memories})),!Object(u.L)("ios")&&a.a.createElement(j,{link:"/new-memory",icon:d.a})))},E=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"good"===e.type}));return a.a.createElement(v,{title:"Good Memories",fallbackText:"No good memories found.",memories:e})},g=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"bad"===e.type}));return a.a.createElement(v,{title:"Bad Memories",fallbackText:"No bad memories found.",memories:e})},w=(n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),a.a.lazy((function(){return n.e(9).then(n.bind(null,164))}))),k=function(){var e=Object(r.useContext)(y.a).initContext;return Object(r.useEffect)((function(){e()}),[e]),a.a.createElement(u.a,null,a.a.createElement(m.a,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(u.x,null)},a.a.createElement(u.A,null,a.a.createElement(u.t,null,a.a.createElement(f.b,{path:"/good-memories"},a.a.createElement(E,null)),a.a.createElement(f.b,{path:"/bad-memories"},a.a.createElement(g,null)),a.a.createElement(f.b,{path:"/new-memory"},a.a.createElement(w,null)),a.a.createElement(f.a,{to:"/good-memories"})),a.a.createElement(u.y,{slot:"bottom"},a.a.createElement(u.z,{href:"/good-memories",tab:"good"},a.a.createElement(u.n,{icon:d.j}),a.a.createElement(u.q,null,"Good Memories")),a.a.createElement(u.z,{href:"/bad-memories",tab:"bad"},a.a.createElement(u.n,{icon:d.o}),a.a.createElement(u.q,null,"Bad Memories")))))))},O=n(54),x=n(3),_=n.n(x),C=n(27),N=n(11),P=n(18),U=n(22),M=n(56),S=U.e.Storage,D=U.e.Filesystem,L=function(e){var t=Object(r.useState)([]),n=Object(P.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){o.map((function(e){return{id:e.id,title:e.title,imagePath:e.imagePath,type:e.type}}));S.set({key:"memories",value:JSON.stringify(o)})}),[o]);var c=function(){var e=Object(N.a)(_.a.mark((function e(t,n,r){var a,o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).getTime()+".jpeg",e.next=3,Object(M.a)(t.preview);case 3:o=e.sent,D.writeFile({path:a,data:o,directory:U.d.Data}),c={id:Math.random().toString(),title:n,type:r,imagePath:a,base64Url:o},i((function(e){return[].concat(Object(C.a)(e),[c])}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=Object(r.useCallback)(Object(N.a)(_.a.mark((function e(){var t,n,r,a,o,c,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get({key:"memories"});case 2:t=e.sent,n=t.value?JSON.parse(t.value):[],r=[],a=Object(O.a)(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=16;break}return c=o.value,e.next=12,D.readFile({path:c.imagePath,directory:U.d.Data});case 12:l=e.sent,r.push({id:c.id,title:c.title,type:c.type,imagePath:c.imagePath,base64Url:"data:image/jpeg;base64,"+l.data});case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:i(r);case 25:case"end":return e.stop()}}),e,null,[[6,18,21,24]])}))),[]);return a.a.createElement(y.a.Provider,{value:{memories:o,addMemory:c,initContext:l}},e.children)};i.a.render(a.a.createElement(L,null,a.a.createElement(k,null)),document.getElementById("root")),Object(c.a)(window),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");l?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):s(t,e)}))}}()}},[[59,3,6]]]);
//# sourceMappingURL=main.7ba146a5.chunk.js.map